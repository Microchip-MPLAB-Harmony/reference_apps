<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Vending Machine | Microchip MPLAB Harmony Reference Applications help</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Vending Machine" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Reference Applications package" /> <meta property="og:description" content="Harmony 3 Reference Applications package" /> <link rel="canonical" href="../../../apps/sam_e54_xpro/same54_vending_machine/readme.html" /> <meta property="og:url" content="../../../apps/sam_e54_xpro/same54_vending_machine/readme.html" /> <meta property="og:site_name" content="Microchip MPLAB Harmony Reference Applications help" /> <script type="application/ld+json"> {"@type":"WebPage","url":"../../../apps/sam_e54_xpro/same54_vending_machine/readme.html","headline":"Vending Machine","description":"Harmony 3 Reference Applications package","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../../../index.html" class="nav-list-link">Harmony 3 Reference Applications Package</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/readme.html" class="nav-list-link">Reference Applications</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_d21_iot/readme.html" class="nav-list-link">SAM D21 IoT Development Board</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_d21_iot/google_cloud_iot_core/readme.html" class="nav-list-link">Google Cloud IoT Core Application</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_e51_cnano/readme.html" class="nav-list-link">SAM E51 Curiosity Nano Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_e51_cnano/same51n_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e51_cnano/ble_fitness_tracker/readme.html" class="nav-list-link">BLE Fitness Tracker</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/pic32mz_da_curiosity/readme.html" class="nav-list-link">Curiosity PIC32MZ DA Development Board</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/pic32mz_da_curiosity/pic32mzda_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_da_curiosity/pic32mzda_sdcard_usb_audio_player/readme.html" class="nav-list-link">SD Card USB Audio Player with Legato Graphics</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_d21_cnano/readme.html" class="nav-list-link">SAM D21 Curiosity Nano Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/samd21n_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/fitness_tracker/readme.html" class="nav-list-link">Fitness Tracker</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/location_sos/readme.html" class="nav-list-link">Location Tagged SOS</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/ble_weather_station/readme.html" class="nav-list-link">BLE based Weather Station and Motion Sensor Application</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/samd21_amazon_ack/readme.html" class="nav-list-link">Amazon Alexa Connect (ACK) kit port OTA and Applications</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/samd21_amazon_ack/applications/HelloWorld/readme.html" class="nav-list-link">ACK Hello World Application</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/samd21_amazon_ack/applications/Microwave/readme.html" class="nav-list-link">ACK Microwave Application</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/samd21_amazon_ack/applications/SmartLight/readme.html" class="nav-list-link">ACK Smart Light Application</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/pic18f_to_samd21_migration/readme.html" class="nav-list-link">Application migration from 8-bit PIC18F to 32-bit SAM D21</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/samd21_amazon_ack/applications/DashReplenishment/readme.html" class="nav-list-link">ACK Dash Replenishment Application</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/samd21_amazon_ack/bootloader/readme.html" class="nav-list-link">ACK OTA Bootloader</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_cnano/atmega4809_to_samd21_migration/readme.html" class="nav-list-link">Application migration from 8-bit AVR to 32-bit SAM D21</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/pic32mz_ef_curiosity_v2/readme.html" class="nav-list-link">Curiosity PIC32MZ EF 2.0 Development Board</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_curiosity_v2/pic32mzef_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_curiosity_v2/getting_started_ext/readme.html" class="nav-list-link">Getting Started Extended</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_curiosity_v2/getting_started_middleware/readme.html" class="nav-list-link">Getting Started Middleware</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_curiosity_v2/msd_multiple_luns/readme.html" class="nav-list-link">USB MSD with Multiple Drives</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_curiosity_v2/sdcard_player/readme.html" class="nav-list-link">SD Card Audio Player</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_curiosity_v2/wifi_rgb_easy_configuration/readme.html" class="nav-list-link">WiFi based RGB LED Control</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_curiosity_v2/snake_game/readme.html" class="nav-list-link">Snake Game</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_l11_xpro/readme.html" class="nav-list-link">SAM L11 Xplained Pro Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_l11_xpro/saml11_trustzone_getting_started/readme.html" class="nav-list-link">TrustZone Getting Started on SAM L11</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_l10_xpro/readme.html" class="nav-list-link">SAM L10 Xplained Pro Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_l10_xpro/saml10_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_l10_xpro/saml10_low_power/readme.html" class="nav-list-link">Low Power</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_l21_xpro/readme.html" class="nav-list-link">SAM L21 Xplained Pro Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_l21_xpro/saml21_low_power/readme.html" class="nav-list-link">Low Power</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_c21_xpro/readme.html" class="nav-list-link">SAM C21 Xplained Pro evaluation kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_c21_xpro/samc21_low_power/readme.html" class="nav-list-link">Low Power</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_e54_xpro/readme.html" class="nav-list-link">SAM E54 Xplained Pro Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_e54_xpro/same54_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e54_xpro/sleepwalking/readme.html" class="nav-list-link">SleepWalking</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e54_xpro/same54_low_power/readme.html" class="nav-list-link">Low Power</a> </li><li class="nav-list-item active"> <a href="../../../apps/sam_e54_xpro/same54_vending_machine/readme.html" class="nav-list-link active">Vending Machine</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_d21_xpro/readme.html" class="nav-list-link">SAM D21 Xplained Pro Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_d21_xpro/samd21_ac_sleepwalk_singleshot_gcc/readme.html" class="nav-list-link">AC Sleepwalking Application built with ARM GCC Toolchain</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_d21_xpro/samd21_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_c21n_xpro/readme.html" class="nav-list-link">SAM C21N Xplained Pro Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_c21n_xpro/samc21n_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_c21n_xpro/sdadc_conversion_interrupt/readme.html" class="nav-list-link">SDADC Conversion Interrupt Mode</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_c21n_xpro/sdadc_conversion_polling/readme.html" class="nav-list-link">SDADC Conversion Polling Mode</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_e70_xult/readme.html" class="nav-list-link">SAM E70 Xplained Ultra Evaluation Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_e70_xult/same70_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e70_xult/getting_started_drv/readme.html" class="nav-list-link">Getting Started with Drivers</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e70_xult/getting_started_freertos/readme.html" class="nav-list-link">Getting Started with FreeRTOS</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e70_xult/qspi_xdmac_read_write/readme.html" class="nav-list-link">XDMAC with QSPI</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e70_xult/ftp_bootloader/readme.html" class="nav-list-link">Ethernet bootloader - File Transfer Protocol</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/pic32mk_gp_db/readme.html" class="nav-list-link">PIC32MK General Purpose (GP) Development Board</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/pic32mk_gp_db/pic32mk_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/pic32mx470_curiosity/readme.html" class="nav-list-link">Curiosity PIC32MX470 Development Board</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/pic32mx470_curiosity/pic32mx470_getting_started/readme.html" class="nav-list-link">Getting Started</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/sam_e54_cult/readme.html" class="nav-list-link">SAM E54 Curiosity Ultra Development Board</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/sam_e54_cult/same54_sdcard_usb_audio_player/readme.html" class="nav-list-link">SD Card USB Audio Player with Legato Graphics</a> </li><li class="nav-list-item "> <a href="../../../apps/sam_e54_cult/same54_uart_live_update/readme.html" class="nav-list-link">Live update on SAME54</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/pic32mz_ef_sk_meb2/readme.html" class="nav-list-link">PIC32MZ Embedded Connectivity with FPU (EF) Starter Kit + MEB-II</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_sk_meb2/audio_player/readme.html" class="nav-list-link">SD Card Player/Reader series</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_sk_meb2/audio_player/audio_player_lab1/readme.html" class="nav-list-link">Audio-Tone using a Lookup Table</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_sk_meb2/audio_player/audio_player_lab2/readme.html" class="nav-list-link">Audio-Tone Application by reading the tone from a text file stored in an SD card</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_sk_meb2/audio_player/audio_player_lab3/readme.html" class="nav-list-link">SD Card Reader and Audio-Tone Application by reading the tone from a text file stored in an SD card</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_sk_meb2/audio_player/audio_player_lab4/readme.html" class="nav-list-link">SD Card Reader .wav Audio player</a> </li><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_sk_meb2/audio_player/audio_player_lab5/readme.html" class="nav-list-link">SD Card Audio Player/Reader with Aria Graphics</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../apps/pic32mz_ef_sk/readme.html" class="nav-list-link">PIC32MZ Embedded Connectivity with FPU (EF) Starter Kit</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../apps/pic32mz_ef_sk/pic32mz_uart_live_update/readme.html" class="nav-list-link">Live update on PIC32MZ</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="../../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Microchip MPLAB Harmony Reference Applications help" aria-label="Search Microchip MPLAB Harmony Reference Applications help" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../../apps/readme.html">Reference Applications</a></li> <li class="breadcrumb-nav-list-item"><a href="../../../apps/sam_e54_xpro/readme.html">SAM E54 Xplained Pro Evaluation Kit</a></li> <li class="breadcrumb-nav-list-item"><span>Vending Machine</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><img src="images/microchip_logo.png" /> <img src="images/microchip_mplab_harmony_logo_small.png" /></p> <h1 id="vending-machine-application-on-sam-e54-xplained-pro-evaluation-kit"> <a href="#vending-machine-application-on-sam-e54-xplained-pro-evaluation-kit" aria-labelledby="vending-machine-application-on-sam-e54-xplained-pro-evaluation-kit" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Vending Machine Application on SAM E54 Xplained Pro Evaluation Kit </h1> <hr /> <h2 id="description"> <a href="#description" aria-labelledby="description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Description: </h2> <p>The application implements an embedded network application to update and track drinks status of a Vending Machine (VM).</p> <ul> <li>The SAM E54 Xplained Pro Evaluation Kit will act as a HTTP-Server to keep track of the items in the Vending Machine.</li> <li>The HTTP-Client (PC web page) talks to the HTTP-server and displays the status of the Vending Machine.</li> <li>The OLED1 Xplained Pro extension kit will act man machine interface (MMI) to select and confirm drinks with buttons (up/down and select) and an OLED displays VM information. <ul> <li>The VM application uses Button 1 (Down) and Button 2 (Up) to scroll through the VM items and Button 3 to select an item from the Vending Machine.</li> <li>The LEDs above the button indicates a button press with a blink.</li> <li>The OLED (128 x 32) is used to display the drink name and their corresponding number of the items in a Vending Machine.</li> <li>When Button 3 (Select) is pressed the HTTP-Server will decrement the count of an item and updates the HTTPClient(Web page) through ethernet interface.</li> </ul> </li> <li>When a Bay of a VM is empty it sends out a message to a specific TCP server.</li> </ul> <h2 id="modulestechnology-used"> <a href="#modulestechnology-used" aria-labelledby="modulestechnology-used" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modules/Technology Used: </h2> <ul> <li>Peripheral Modules <ul> <li>TC</li> <li>NVMCTRL</li> <li>SERCOM(SPI)</li> <li>SERCOM(USART)</li> </ul> </li> <li>Driver Modules <ul> <li>MEMORY</li> <li>I2C Driver</li> </ul> </li> <li>System service <ul> <li>TIME</li> <li>CONSOLE, DEBUG, COMMAND</li> </ul> </li> <li>Libraries <ul> <li>TCP/IP stack</li> <li>Microchip File System (together with <a href="https://github.com/Microchip-MPLAB-Harmony/net/tree/master/utilities/mpfs_generator">MPFS utility</a>)</li> </ul> </li> <li>Third Party Library <ul> <li>FreeRTOS</li> </ul> </li> <li>gfx mono library (from <a href="https://www.microchip.com/mplab/avr-support/advanced-software-framework">ASF</a>)</li> </ul> <h2 id="hardware-used"> <a href="#hardware-used" aria-labelledby="hardware-used" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardware Used: </h2> <ul> <li><a href="https://www.microchip.com/DevelopmentTools/ProductDetails/ATSAME54-XPRO">SAM E54 Xplained Pro Evaluation Kit</a></li> <li><a href="https://www.microchip.com/Developmenttools/ProductDetails/ATOLED1-XPRO">OLED1 Xplained Pro extension kit</a></li> <li>Cat 5 Ethernet Cable</li> <li>USB Male A to USB Male B Micro Cable</li> </ul> <h2 id="softwaretools-used"> <a href="#softwaretools-used" aria-labelledby="softwaretools-used" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Software/Tools Used: </h2> <p><span style="color:blue"> <em>This project has been verified to work with the following versions of software tools:</em></span></p> <ul> <li><a href="https://github.com/Microchip-MPLAB-Harmony/csp/releases/tag/v3.8.1">MPLAB Harmony v3 “csp” repo v3.8.1</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.8.1">MPLAB Harmony v3 “core” repo v3.8.1</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/dev_packs/releases/tag/v3.8.0">MPLAB Harmony v3 “dev_packs” repo v3.8.0</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/mhc/releases/tag/v3.5.1">MPLAB Harmony v3 “mhc” repo v3.5.1</a></li> <li>MPLAB Harmony Configurator Plugin v3.6.0</li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/CMSIS-FreeRTOS/releases/tag/v10.3.1">MPLAB Harmony v3 “CMSIS-FreeRTOS” repo v10.3.1</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/net/releases/tag/v3.6.1">MPLAB Harmony v3 “net” repo v3.6.1</a></li> <li><a href="https://www.microchip.com/mplab/mplab-x-ide">MPLAB X IDE v5.40</a></li> <li><a href="https://www.microchip.com/mplab/compilers">MPLAB XC32 Compiler v2.41</a></li> <li>Any Serial Terminal application, such as Tera Term terminal application.</li> <li>Any TCP/IP debug application, such as Hercules SETUP utility - useful serial port terminal (RS-485 or RS-232 terminal) , UDP/IP terminal and TCP/IP Client Server terminal. Produced by www.HW-group.com.</li> </ul> <p><span style="color:blue"> <em>Because Microchip regularly update tools, occasionally issue(s) could be discovered while using the newer versions of the tools. If the project doesn’t seem to work and version incompatibility is suspected, It is recommended to double-check and use the same versions that the project was tested with.</em> </span></p> <h2 id="setup"> <a href="#setup" aria-labelledby="setup" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setup: </h2> <ul> <li>Connect the OLED1 Xplained Pro extension kit to Extension Header 1 (EXT1) on the SAM E54 Xplained Pro Evaluation Kit</li> <li>Establish a connection between the router/switch with the SAM E54 Xplained Pro Evaluation Kit through the RJ45 connector. Make sure your PC is connected to the same router/switch.</li> <li> <p>Connect the micro USB cable from the computer to the DEBUG USB connect on the SAM E54 Xplained Pro Evaluation Kit</p> <p><img src="images/hardware_setup.png" width="388" height="430" align="middle" /></p> </li> </ul> <h2 id="programming-hex-file"> <a href="#programming-hex-file" aria-labelledby="programming-hex-file" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Programming hex file: </h2> <p>The pre-built hex file can be programmed by following the below steps</p> <h3 id="steps-to-program-the-hex-file"> <a href="#steps-to-program-the-hex-file" aria-labelledby="steps-to-program-the-hex-file" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Steps to program the hex file </h3> <ul> <li>Open MPLAB X IDE</li> <li>Close all existing projects in IDE, if any project is opened.</li> <li>Go to File -&gt; Import -&gt; Hex/ELF File</li> <li>In the “Import Image File” window, Step 1 - Create Prebuilt Project, click the “Browse” button to select the prebuilt hex file.</li> <li>Select Device has “ATSAME54P20A”</li> <li>Ensure the proper tool is selected under “Hardware Tool”</li> <li>Click on “Next” button</li> <li>In the “Import Image File” window, Step 2 - Select Project Name and Folder, select appropriate project name and folder</li> <li>Click on “Finish” button</li> <li>In MPLAB X IDE, click on “Make and Program Device” Button. The device gets programmed in sometime.</li> <li>Follow the steps in “Running the Demo” section below</li> </ul> <h2 id="programmingdebugging-application-project"> <a href="#programmingdebugging-application-project" aria-labelledby="programmingdebugging-application-project" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Programming/Debugging Application Project: </h2> <ul> <li>Open the project (same54_vending_machine\firmware\sam_e54_xpro.X) in MPLAB X IDE</li> <li>Ensure “EDBG” is selected as hardware tool to program/debug the application</li> <li>Build the code and program the device by clicking on the “make and program” button in MPLAB X IDE tool bar</li> <li>Follow the steps in “Running the Demo” section below</li> </ul> <h2 id="running-the-demo"> <a href="#running-the-demo" aria-labelledby="running-the-demo" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running the Demo: </h2> <ul> <li>Open the Tera Term terminal application on your PC, select the virtual COM port of SAM E54 Xplained Pro Evaluation Kit, and change the baud rate to 115200</li> <li>You should see the text on the OLED screen in series like the screens below: <img src="images/result_oled.png" width="519" height="69" align="middle" /></li> <li>You should see demo information and IP address (after DHCP success) in Tera Term terminal, as shown below: <img src="images/result_terminal.png" width="721" height="282" align="middle" /></li> <li> <p>Open a web browser and enter the HTTP- Server IP address (e.g. http://192.168.1.101) that you got on the tera term in the previous step. Click on the ‘Vending Machine’ tab to see the page for the Vending Machine Demo.</p> <p><img src="images/result_webpage.png" width="637" height="535" align="middle" /></p> </li> <li> <p>Use the Button 1 and Button 2 on the OLED1 Xplained Pro to scroll through the items of the Vending Machine. Use the Button 3 on the OLED to pick an item from the VM. The count of the corresponding item on the OLED screen will be decremented by 1 and is reflected on the Web page as well as on the OLED screen.</p> <p><img src="images/result_webpage_oled.png" width="806" height="218" align="middle" /></p> </li> <li>Run Hercules SETUP utility, and start TCP Server to listen on Port 80 <img src="images/result_tcp_server.png" width="620" height="140" align="middle" /> <ul> <li>Note: you need to update source code in app.c to fill your PC’s IP address that running this TCP Server</li> </ul> </li> <li> <p>Press the select Button 3 and make one or more item to zero count. After few second, you will see this screen to notice bay empty (e.g. item 1. coca-cola).</p> <p><img src="images/result_bay_empty.png" width="697" height="113" align="middle" /></p> </li> <li>In ‘Vending Machine’ webpage, you can pick an <strong>ITEM</strong> and change the <strong>COUNT</strong> to a new number, then press <strong>UPDATE</strong> to confirm. <img src="images/result_webpage2.png" width="560" height="302" align="middle" /></li> </ul> <h2 id="comments"> <a href="#comments" aria-labelledby="comments" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Comments: </h2> <ul> <li>Reference Training Module: <ul> <li><a href="https://microchipdeveloper.com/harmony3:same70-getting-started-training-module">Getting Started with Harmony v3 Peripheral Libraries on SAM D5x/E5x MCUs</a></li> <li><a href="https://github.com/Microchip-MPLAB-Harmony/net/wiki/Create-your-first-tcpip-application">Create your first tcpip application</a></li> <li>Look <a href="https://github.com/Microchip-MPLAB-Harmony/net">MPLAB Harmony TCP/IP Help documentaion</a> for Harmony 3 Net APIs and how to use MPFS utility to generate MPFS image of web pages.</li> </ul> </li> <li>This application demo builds and works out of box by following the instructions above in “Running the Demo” section. If you need to enhance/customize this application demo, you need to use the MPLAB Harmony v3 Software framework. Refer links below to setup and build your applications using MPLAB Harmony. <ul> <li><a href="https://www.microchip.com/mymicrochip/filehandler.aspx?ddocname=en1000821">How to Setup MPLAB Harmony v3 Software Development Framework</a></li> <li><a href="http://ww1.microchip.com/downloads/en/DeviceDoc/How_to_Build_Application_Adding_PLIB_%20Driver_or_Middleware%20_to_MPLAB_Harmony_v3Project_DS90003253A.pdf">How to Build an Application by Adding a New PLIB, Driver, or Middleware to an Existing MPLAB Harmony v3 Project</a></li> </ul> </li> </ul> <h2 id="revision"> <a href="#revision" aria-labelledby="revision" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Revision: </h2> <ul> <li>v1.1.0 Released demo application</li> </ul> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2020 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
