This directory contains an ACK Host MCU Implementation Core MCU-specific implementation, and ACK Host MCU
sample applications projects targeting ST Microelectronics STM32F030x8 and STM32F030xC MCUs, for use with
the Keil uVision development environment. For STM32F030x8, the specific target is the STM32F030R8-Nucleo
board.

The directory structure is as follows.

    user\platform\stm32\                        this directory
        ack_stm32*.c, ack_stm32*.h              Shared ACK-specific C source code
        stm32*\                                 MCU-specific directories 
            ack.uvmpw                           multi-project workspace file for Keil uVision 5;
                                                contains all ACK Host MCU sample applications for the MCU
            applications\*\                     projects for ACK Host MCU sample applications
            applications\cubemx-generated\      STM32CubeMX project file, and code generated by STM32CubeMX
                                                (shared among all ACK Host MCU sample applications)
            customloader\                       Custom loader application supporting over-the-air updates

To use an STM32 port, install the Keil tools (see link at the bottom of this file) and open
one of the ack.uvmpw multi-project workspace files.

Code generated by STM32CubeMX includes a main() function. The generated main() function performs MCU
startup tasks and initializes clocks and hardware. To the generated main() have been added one call to
setup(), and calls to loop() on each pass through the main application loop. Each ACK Host MCU sample
application therefore includes setup() and loop() functions.

The ACK HMCU Implementation Core platform implementation is in ack_stm32_platform.c. It assumes that
main() as generated by STM32CubeMX has already configured the hardware and peripherals, and so the
ACKPlatform_Initialize() function performs only minimal work.

The ACK connectivity module shield must be connected via flywires; mounting the ACK connectivity module
shield directly onto the STM32F030 Nucleo board will not work. Connections must be made as shown below.
Note that header locations described below assume looking at the each of the 2 boards in landscape
orientation with the USB connector on the left.

The three power-related pins (ioref, 5v, gnd) are the same on both boards. On the bottom left Arduino
header on both boards, connect these pins with flywires:

           STM32F030 Nucleo board           ACK Connectivity Module shield
    ioref  [ ][x][ ][ ][ ][ ][ ][ ] <-----> [ ][x][ ][ ][ ][ ][ ][ ]
      +5v  [ ][ ][ ][ ][x][ ][ ][ ] <-----> [ ][ ][ ][ ][x][ ][ ][ ]
      gnd  [ ][ ][ ][ ][ ][x][ ][ ] <-----> [ ][ ][ ][ ][ ][x][ ][ ]

The UART and host-interrupt pin locations differ between the two boards. The headers shown below refer to
the upper 2 Arduino headers on the STM32F030 Nucleo board, and the upper right Arduino header on the
ACK connectivity module shield.

              STM32F030 Nucleo board                                           ACK Connectivity Module shield
       reset  [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]  [ ][ ][ ][ ][x][ ][ ][ ] <-----> [ ][ ][ ][ ][x][ ][ ][ ]
    host-int  [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]  [ ][ ][ ][x][ ][ ][ ][ ] <-----> [ ][ ][ ][ ][ ][x][ ][ ]
        uart  [ ][ ][ ][ ][ ][ ][ ][ ][ ][x]  [ ][ ][ ][ ][ ][ ][ ][ ] <-----> [ ][ ][ ][ ][ ][ ][x][ ]
        uart  [ ][ ][ ][ ][ ][ ][ ][ ][ ][ ]  [ ][ ][ ][ ][ ][x][ ][ ] <-----> [ ][ ][ ][ ][ ][ ][ ][x]

Some of the sample applications use additional GPIO pins. These are mapped as follows.

        Sample application GPIO pin         Pin     Location on CN5 on STM32F030R8 Nucleo board
        ------------------------------      ---     -------------------------------------------
        ACK_SAMPLE_APPLICATIONS_GPIO_1      PC7     [ ][ ][ ][ ][ ][ ][ ][ ][x][ ]
        ACK_SAMPLE_APPLICATIONS_GPIO_2      PB6     [ ][ ][ ][ ][ ][ ][ ][x][ ][ ]
        ACK_SAMPLE_APPLICATIONS_GPIO_3      PA7     [ ][ ][ ][ ][ ][ ][x][ ][ ][ ]

Link to STM32CubeMX:
https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-configurators-and-code-generators/stm32cubemx.license=1540398484183.product=STM32CubeMX.html
Link to Keil tools for ST:
http://www2.keil.com/stmicroelectronics-stm32/mdk